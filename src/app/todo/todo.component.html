<header>
  <h1>{{ title }}</h1>
  <form #addForm="ngForm" (ngSubmit)="addTodo()" >
    <input
      placeholder="Title"
      [(ngModel)]="newTodo.title"
      class="form-control topMargin"
      [ngModelOptions]="{standalone: true}"
    >
    <textarea
      placeholder="Description"
      [(ngModel)]="newTodo.description"
      class="form-control topSmallMargin"
      [ngModelOptions]="{standalone: true}">
    </textarea>
    <button class="btn-primary btn topSmallMargin" type="submit">Add task</button>
  </form>
</header>

<section *ngIf="allTodos.length > 0; else notask" class="topMargin">
  <ul class="list-group">
    <li *ngFor="let todo of allTodos" class="list-group-item">
        <div class="row">
          <div class="col-md-1 check">
            <span [ngClass]="{'glyphicon': true, 'glyphicon-ok green': todo.complete, 'glyphicon-remove red': !todo.complete }" (click)="updateComplete(todo)"></span>
          </div>
          <div class="col-md-9 title">
            <a routerLink="/todo/{{ todo.id }}">{{todo.title}}</a>
          </div>
          <div class="col-md-2">
            <button (click)="deleteTodo(todo)" class="btn btn-primary float-right">delete</button>
          </div>
        </div>
    </li>
  </ul>

  <p class="topMargin"> Click on the task icon to change the status </p>
</section>

<ng-template #notask>
  <section class="topMargin">
    <p> No task declared for the moment</p>
  </section>
</ng-template>

<section class="topMargin">
  <button routerLink="/home" class="btn btn-primary"> Go to Home </button>
</section>
